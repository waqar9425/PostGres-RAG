{
  "doc_name": "sql-alterrole",
  "url": "https://www.postgresql.org/docs/16/sql-alterrole.html",
  "sections": [
    {
      "title": "ALTER ROLE",
      "text": "ALTER ROLE — change a database role\n"
    },
    {
      "title": "Synopsis",
      "text": "\n\nCODE:\n\nALTER ROLE role_specification [ WITH ] option [ ... ]\n\nwhere option can be:\n\n      SUPERUSER | NOSUPERUSER\n    | CREATEDB | NOCREATEDB\n    | CREATEROLE | NOCREATEROLE\n    | INHERIT | NOINHERIT\n    | LOGIN | NOLOGIN\n    | REPLICATION | NOREPLICATION\n    | BYPASSRLS | NOBYPASSRLS\n    | CONNECTION LIMIT connlimit\n    | [ ENCRYPTED ] PASSWORD 'password' | PASSWORD NULL\n    | VALID UNTIL 'timestamp'\n\nALTER ROLE name RENAME TO new_name\n\nALTER ROLE { role_specification | ALL } [ IN DATABASE database_name ] SET configuration_parameter { TO | = } { value | DEFAULT }\nALTER ROLE { role_specification | ALL } [ IN DATABASE database_name ] SET configuration_parameter FROM CURRENT\nALTER ROLE { role_specification | ALL } [ IN DATABASE database_name ] RESET configuration_parameter\nALTER ROLE { role_specification | ALL } [ IN DATABASE database_name ] RESET ALL\n\nwhere role_specification can be:\n\n    role_name\n  | CURRENT_ROLE\n  | CURRENT_USER\n  | SESSION_USER\n\n"
    },
    {
      "title": "Description",
      "text": "ALTER ROLEchanges the attributes of aPostgreSQLrole.\nThe first variant of this command listed in the synopsis can change many of the role attributes that can be specified inCREATE ROLE. (All the possible attributes are covered, except that there are no options for adding or removing memberships; useGRANTandREVOKEfor that.) Attributes not mentioned in the command retain their previous settings. Database superusers can change any of these settings for any role. Non-superuser roles havingCREATEROLEprivilege can change most of these properties, but only for non-superuser and non-replication roles for which they have been grantedADMIN OPTION. Non-superusers cannot change theSUPERUSERproperty and can change theCREATEDB,REPLICATION, andBYPASSRLSproperties only if they possess the corresponding property themselves. Ordinary roles can only change their own password.\nThe second variant changes the name of the role. Database superusers can rename any role. Roles havingCREATEROLEprivilege can rename non-superuser roles for which they have been grantedADMIN OPTION. The current session user cannot be renamed. (Connect as a different user if you need to do that.) BecauseMD5-encrypted passwords use the role name as cryptographic salt, renaming a role clears its password if the password isMD5-encrypted.\nThe remaining variants change a role's session default for a configuration variable, either for all databases or, when theIN DATABASEclause is specified, only for sessions in the named database. IfALLis specified instead of a role name, this changes the setting for all roles. UsingALLwithIN DATABASEis effectively the same as using the commandALTER DATABASE ... SET ....\nWhenever the role subsequently starts a new session, the specified value becomes the session default, overriding whatever setting is present inpostgresql.confor has been received from thepostgrescommand line. This only happens at login time; executingSET ROLEorSET SESSION AUTHORIZATIONdoes not cause new configuration values to be set. Settings set for all databases are overridden by database-specific settings attached to a role. Settings for specific databases or specific roles override settings for all roles.\nSuperusers can change anyone's session defaults. Roles havingCREATEROLEprivilege can change defaults for non-superuser roles for which they have been grantedADMIN OPTION. Ordinary roles can only set defaults for themselves. Certain configuration variables cannot be set this way, or can only be set if a superuser issues the command. Only superusers can change a setting for all roles in all databases.\n"
    },
    {
      "title": "Parameters",
      "text": "The name of the role whose attributes are to be altered.\nAlter the current user instead of an explicitly identified role.\nAlter the current session user instead of an explicitly identified role.\nThese clauses alter attributes originally set byCREATE ROLE. For more information, see theCREATE ROLEreference page.\nThe new name of the role.\nThe name of the database the configuration variable should be set in.\nSet this role's session default for the specified configuration parameter to the given value. IfvalueisDEFAULTor, equivalently,RESETis used, the role-specific variable setting is removed, so the role will inherit the system-wide default setting in new sessions. UseRESET ALLto clear all role-specific settings.SET FROM CURRENTsaves the session's current value of the parameter as the role-specific value. IfIN DATABASEis specified, the configuration parameter is set or removed for the given role and database only.\nRole-specific variable settings take effect only at login;SET ROLEandSET SESSION AUTHORIZATIONdo not process role-specific variable settings.\nSeeSETandChapter 20for more information about allowed parameter names and values.\n"
    },
    {
      "title": "Notes",
      "text": "UseCREATE ROLEto add new roles, andDROP ROLEto remove a role.\nALTER ROLEcannot change a role's memberships. UseGRANTandREVOKEto do that.\nCaution must be exercised when specifying an unencrypted password with this command. The password will be transmitted to the server in cleartext, and it might also be logged in the client's command history or the server log.psqlcontains a command\\passwordthat can be used to change a role's password without exposing the cleartext password.\nIt is also possible to tie a session default to a specific database rather than to a role; seeALTER DATABASE. If there is a conflict, database-role-specific settings override role-specific ones, which in turn override database-specific ones.\n"
    },
    {
      "title": "Examples",
      "text": "Change a role's password:\n\n\nCODE:\n\nALTER ROLE davide WITH PASSWORD 'hu8jmn3';\n\nRemove a role's password:\n\n\nCODE:\n\nALTER ROLE davide WITH PASSWORD NULL;\n\nChange a password expiration date, specifying that the password should expire at midday on 4th May 2015 using the time zone which is one hour ahead ofUTC:\n\n\nCODE:\n\nALTER ROLE chris VALID UNTIL 'May 4 12:00:00 2015 +1';\n\nMake a password valid forever:\n\n\nCODE:\n\nALTER ROLE fred VALID UNTIL 'infinity';\n\nGive a role the ability to manage other roles and create new databases:\n\n\nCODE:\n\nALTER ROLE miriam CREATEROLE CREATEDB;\n\nGive a role a non-default setting of themaintenance_work_memparameter:\n\n\nCODE:\n\nALTER ROLE worker_bee SET maintenance_work_mem = 100000;\n\nGive a role a non-default, database-specific setting of theclient_min_messagesparameter:\n\n\nCODE:\n\nALTER ROLE fred IN DATABASE devel SET client_min_messages = DEBUG;\n\n"
    },
    {
      "title": "Compatibility",
      "text": "TheALTER ROLEstatement is aPostgreSQLextension.\n"
    }
  ]
}